- [进程间通信的方式有哪些？](https://jaminzhang.github.io/os/Unix-IPC-Methods-Introduction/)

1. 共享内存；
2. socket；
3. 管道；
4. 命名管道；
5. 消息队列；
6. 信号；
7. 信号量；

- 用户态、核心态切换的条件以及切换的原因

有三种切换场景：
1. 进程进行了系统调用，如：`fork()`；
2. 进程运行过程产生了异常，需要切换到核心态处理异常；
3. 发生中断，需要切换到核心态处理：如时钟中断、I/O 中断。

切换的原因：

1. 控制进程权限：只有核心态下的进程才允许操作一些重要资源；

- 进程调度算法

1. 分时调度：每个进程运行给定的时间片，时间片使用完了就加到队列末尾，切换到其他进程；
2. FIFO：先到先运行，直到运行完成，非抢占；
3. 最短时间优先：从就绪队列中选出一个估计运行时间最短的进程，非抢占；问题是任务的运行时间难以预先得知；
4. 最短剩余时间优先：抢占版的最短时间优先，首先按照作业的服务时间挑选最短的作业运行，在该作业运行期间，一旦有新作业到达系统，并且该新作业的服务时间比当前运行作业的剩余服务时间短，则发生抢占；否则，当前作业继续运行；
5. 高响应比优先：每次进行作业调度时，先计算后备作业队列中每个作业的响应比，挑选最高的作业投入系统运行。

`响应比 =（等待时间 + 服务时间）/服务时间 = 等待时间/服务时间 + 1`，

可以避免作业的长时间等待，因为等待越久响应比越大。

6. 多级反馈队列调度算法：

	1. 应设置多个就绪队列，并为各个队列赋予不同的优先级。第一个队列的优先级最高，第二个队列次之，其余各队列的优先权逐个降低。该算法赋予各个队列中进程执行时间片的大小也各不相同，在优先权愈高的队列中，为每个进程所规定的执行时间片就愈小。例如，第二个队列的时间片要比第一个队列的时间片长一倍，第i+1个队列的时间片要比第i个队列的时间片长一倍。
	2. 当一个新进程进入内存后，首先将它放入第一队列的末尾，按FCFS原则排队等待调度。当轮到该进程执行时，如它能在该时间片内完成，便可准备撤离系统；如果它在一个时间片结束时尚未完成，调度程序便将该进程转入第二队列的末尾，再同样地按FCFS原则等待调度执行；如果它在第二队列中运行一个时间片后仍未完成，再依次将它放入第三队列，……，如此下去，当一个长作业(进程)从第一队列依次降到第n队列后，在第n队列便采取按时间片轮转的方式运行；
	3. 仅当第一队列空闲时，调度程序才调度第二队列中的进程运行；仅当第1～(i-1)队列均空时，才会调度第i队列中的进程运行。如果处理机正在第i队列中为某进程服务时，又有新进程进入优先权较高的队列(第1～(i-1)中的任何一个队列)，则此时新进程将抢占正在运行进程的处理机，即第i队列中某个正在运行的进程的时间片用完后，由调度程序选择优先权较高的队列中的那一个进程，把处理机分配给它。

7. 优先级。

- 修改进程优先级的方法

改变进程优先级有 3 种方法：

1. 在进程已经启动时，使用命令 `renice -n 10 -p 进程编号`,进行修改 NI 值；
2. 伴随着进程的启动，直接设置 NI 值，使用命令 `nice -n 10 进程启动命令`；
3. 使用命令 top，进入之后 r，输入进程编号，设置 NI 值。

NICE 值不是优先级，而是影响优先级的计算因子，通过 `ps -el` 可以查看进程信息，其中：PRI 是进程优先级，NI 是优先级调整因子，实际的优先级= PRI + NI，越小优先级越高，因此 NICE 值设置越小，进程优先级越高。NICE 值的范围为 [-20, 19]，其中只有管理员才能设置负值的 NICE 值。

